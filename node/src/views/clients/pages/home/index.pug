extends ../../layout/default.pug
include ../../mixins/box-head.pug
include ../../mixins/products-layout.pug

block main
  //- Enhanced Hero Banner với animation và effects
  section.hero-banner.position-relative.overflow-hidden
    //- Animated Background Shapes
    .hero-bg-animation
      .floating-shape.shape-1
      .floating-shape.shape-2
      .floating-shape.shape-3
      .floating-shape.shape-4
      .floating-shape.shape-5

    //- Gradient Overlay
    .hero-overlay

    .container-fluid.h-100
      .row.align-items-center.min-vh-100.position-relative
        //- Left Column: Text / Content
        .col-lg-6.hero-content-wrapper
          .hero-content.text-white
            //- Animated Badge
            .hero-badge.animate-bounce-in
              .badge-glow
              i.fas.fa-fire.me-2
              span Hot Deal
              .badge-sparkle ✨

            //- Main Title với typing effect
            h1.hero-title.animate-slide-up
              span.title-line Khuyến Mãi
              span.title-line.highlight-gradient Siêu Lớn

            //- Subtitle với gradient text
            h2.hero-subtitle.animate-slide-up.animation-delay-1
              | Giảm giá lên đến
              span.highlight.percentage(data-target="70") 70%
              .discount-badge OFF

            //- Description
            p.hero-description.animate-fade-in.animation-delay-2
              | Hàng ngàn sản phẩm chất lượng cao với mức giá không thể tin được.
              strong Nhanh tay đặt hàng
              | trước khi hết stock!

            //- Action Buttons
            .hero-actions.animate-slide-up.animation-delay-3
              a.btn.btn-primary.btn-hero.me-3(href="/products?sale=1")
                .btn-bg-effect
                i.fas.fa-shopping-bag.me-2
                span Mua Ngay
                .btn-shine

              a.btn.btn-outline-light.btn-hero(href="#products")
                .btn-bg-effect
                i.fas.fa-arrow-down.me-2
                span Khám Phá

            //- Stats Counter
            .hero-stats.animate-fade-in.animation-delay-4
              .stat-item
                .stat-number(data-target="1000") #{totalProducts}
                .stat-label Sản phẩm
              .stat-item
                .stat-number(data-target="50000") #{totalUser}
                .stat-label Khách hàng
              .stat-item
                .stat-number(data-target="99") 1000
                .stat-label % Hài lòng

        //- Right Column: Hero Image + Floating elements
        .col-lg-6.hero-image-wrapper.p-0
          .hero-image-container.position-relative
            //- Main Banner Image
            .hero-image-frame
              img.hero-main-image.animate-zoom-in(
                src="/img/banners.png"
                alt="Khuyến mãi lớn"
                loading="eager"
              )
              .image-glow-effect

            //- Floating Elements (icons with labels)
            .floating-elements
              .floating-card.card-1
                i.fas.fa-gift.fa-2x
                span Quà Tặng
              .floating-card.card-2
                i.fas.fa-shipping-fast.fa-2x
                span Giao Nhanh
              .floating-card.card-3
                i.fas.fa-shield-alt.fa-2x
                span Bảo Hành

    //- Scroll Indicator Arrow
    .scroll-indicator.animate-bounce
      i.fas.fa-chevron-down


  //- Enhanced Main Content
  .main-content.position-relative
    //- Background Pattern
    .content-bg-pattern

    .container.content-container
      .section-filter.mb-4
        form#filterForm.d-flex.flex-wrap.gap-3.align-items-center.justify-content-center
          //- Lọc theo danh mục sản phẩm (select)
          .filter-group
            label.form-label.me-2(for="filter-category") Danh mục:
            select#filter-category.form-select(style="min-width: 150px;")
              option(value="") Tất cả
              each category in categoryProducts
                option(value=category.slug) #{category.title}

          //- Lọc theo thương hiệu (checkbox)
          .filter-group
            span.form-label.me-2 Thương hiệu:
            each brand in ['Apple', 'Samsung', 'Xiaomi', 'Dell', 'HP']
              label.form-check.form-check-inline
                input.form-check-input(type="checkbox" name="brand" value=brand)
                span.form-check-label= brand

          //- Lọc theo mức giá (select)
          .filter-group
            label.form-label.me-2(for="filter-price") Giá:
            select#filter-price.form-select(style="min-width: 150px;")
              option(value="") Tất cả
              option(value="0-100") Dưới 100$
              option(value="100-500") 100$ - 500$
              option(value="500-1000") 500$ - 1000$
              option(value="1000-") Trên 1000$

          //- Nút reset bộ lọc
          button.btn.btn-secondary(type="button" id="filterResetBtn") Đặt Lại

      //- Featured Products Section
      section#products.products-section.animate-on-scroll
        .section-header.text-center.mb-5
          .section-badge
            i.fas.fa-star.me-2
            span Nổi Bật
          h2.section-title #{title}
          p.section-subtitle Những sản phẩm được yêu thích nhất
          .section-divider

        .row.align-items-center.mb-4
     
        .products-wrapper
          //- Gọi mixin products-layout với productsFeatured, cần đảm bảo mỗi sản phẩm có data-* attribute theo dưới
          +products-layout(productsFeatured)
      //- Featured Products Section
      section#products.products-section.animate-on-scroll
        .section-header.text-center.mb-5
          .section-badge
            i.fas.fa-star.me-2
            span Nổi Bật
          h2.section-title #{title}
          p.section-subtitle Những sản phẩm được yêu thích nhất
          .section-divider

        .row.align-items-center.mb-4
          .col
            // Title hiển thị ở section-header
          .col-auto
            a.btn.btn-outline-danger.btn-modern(href="/products?featured=1")
              i.fas.fa-fire.me-2
              span Xem tất cả
              .btn-arrow &rarr;

        .products-wrapper
          +products-layout(productsFeatured)


      //- Enhanced Promotional Banner
      .promo-banner-enhanced.my-5
        .promo-bg-animation
          .promo-wave.wave-1
          .promo-wave.wave-2
          .promo-wave.wave-3

        .promo-content.position-relative
          .promo-icon-wrapper
            .promo-icon-bg
            i.fas.fa-percent.promo-icon

          .promo-text
            h3.promo-title
              span.text-flash Flash Sale
              span.text-highlight 24h
            p.promo-subtitle Giảm giá cực sốc - Chỉ hôm nay!
            .promo-features
              .feature-item
                i.fas.fa-check-circle
                span Miễn phí vận chuyển
              .feature-item
                i.fas.fa-check-circle
                span Đổi trả 30 ngày

          .promo-timer
            .timer-item
              .timer-circle
                span.timer-number(data-target="12") 12
              span.timer-label Giờ
            .timer-item
              .timer-circle
                span.timer-number(data-target="34") 34
              span.timer-label Phút
            .timer-item
              .timer-circle
                span.timer-number(data-target="56") 56
              span.timer-label Giây

          a.btn.btn-warning.promo-btn-enhanced(href="/flash-sale")
            .btn-lightning
            i.fas.fa-lightning-bolt.me-2
            span Mua Ngay
            .btn-pulse


      //- Stylish Divider
      .section-divider-fancy.my-5
        .divider-line
        .divider-icon
          i.fas.fa-gem
        .divider-line


      //- New Products Section
      section.products-section.animate-on-scroll
        .section-header.text-center.mb-5
          .section-badge.badge-new
            i.fas.fa-sparkles.me-2
            span Mới Nhất
          h2.section-title Sản phẩm mới
          p.section-subtitle Cập nhật những xu hướng mới nhất
          .section-divider

        .row.align-items-center.mb-4
          .col
          .col-auto
            a.btn.btn-outline-primary.btn-modern(href="/products?sort=new")
              i.fas.fa-sparkles.me-2
              span Xem tất cả
              .btn-arrow &rarr;

        .products-wrapper
          +products-layout(newProductCreate)


      //- Enhanced Newsletter Banner
      .newsletter-banner-enhanced.my-5
        .newsletter-bg-pattern
        .newsletter-content.position-relative
          .row.align-items-center
            .col-lg-6
              .newsletter-icon-wrapper
                .newsletter-icon-bg
                i.fas.fa-envelope-open.newsletter-icon

              .newsletter-text
                h3.newsletter-title
                  span.gradient-text Đăng Ký
                  span Nhận Tin
                p.newsletter-subtitle Nhận thông báo về khuyến mãi và sản phẩm mới nhất
                .newsletter-benefits
                  .benefit-item
                    i.fas.fa-check
                    span Khuyến mãi độc quyền
                  .benefit-item
                    i.fas.fa-check
                    span Sản phẩm mới sớm nhất
                  .benefit-item
                    i.fas.fa-check
                    span Voucher miễn phí

            .col-lg-6
              .newsletter-form-wrapper
                .newsletter-form
                  .form-group
                    .input-wrapper
                      input.form-control.newsletter-input(
                        type="email"
                        placeholder="Nhập email của bạn..."
                        required
                      )
                      .input-focus-line
                    button.btn.btn-success.newsletter-submit(type="submit")
                      i.fas.fa-paper-plane.me-2
                      span Đăng Ký
                      .btn-success-ripple

                .newsletter-note
                  i.fas.fa-shield-alt.me-2
                  span Chúng tôi không chia sẻ thông tin của bạn
